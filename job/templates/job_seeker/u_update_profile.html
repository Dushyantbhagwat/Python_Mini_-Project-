<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Information Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <style>
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            border-radius: 10px;
            background-color: #f7f7f7;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .back-button {
            margin-right: 20px; /* Adjust the margin as needed */
        }
        .header {
            margin-bottom: 20px;
            text-align: center;
            display: flex;
        }
        .header h2 {
            margin-bottom: 10px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: bold;
        }
        input[type="text"],
        input[type="email"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        input[type="file"] {
            display: none; /* Hide the default file input */
        }
        .custom-file-button {
            width: 100%;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            text-align: center;
            margin-bottom: 10px;
            margin-right: 10px;
        }
        .custom-file-button:hover {
            background-color: #0056b3;
        }
        button[type="submit"] {
              -webkit-box-align: center;
              -ms-flex-align: center;
              align-items: center;
              border: 1px solid var(--P100,#275df5);
              border-radius: 12px;
              box-sizing: border-box;
              cursor: pointer;
              display: -ms-inline-flexbox;
              display: inline-flex;
              font-size: 16px;
              font-weight: 700;
              line-height: 20px;
              outline: none;
              padding: 10px 20px;
              text-decoration: none;
              background-color: transparent;
              color: #275df5;
              position: relative;
              left: 250px
        }
        button[type="submit"]:hover {
            background-color: pink;
        }

        /* Style the dropdown container */
        .dropdown {
            position: relative;
        }

        /* Style the select dropdown */
        .dropdown select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #fff;
            font-size: 16px;
            cursor: pointer;
        }

        /* Style select options */
        .dropdown select option {
            padding: 8px 10px;
        }

        /* Style the dropdown arrow */
        .dropdown::after {
            content: "\25BC";
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            pointer-events: none;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="{% url 'u_profile' %}" class="back-button">&#8592; Back to Previous Page</a>
            <h2>User Information Form</h2>
        </div>
        <form method="POST" enctype="multipart/form-data" action="{% url 'u_update_profile' %}" id="updateForm">
            {% csrf_token %}
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" value="{{ job_seeker.full_name }}" required>
            </div>

            <div class="form-group">
                <label>Gender</label>
                <div class="dropdown">
                    <select id="genderSelect" name="gender">
                        <option id="male" value="Male">Male</option>
                        <option id="female" value="Female">Female</option>
                    </select>
                </div>
            </div>

            <script>
                // JavaScript code to handle the selected option
                document.getElementById("genderSelect").addEventListener("change", function() {
                    var selectedOption = this.value;
                    console.log("Selected gender: " + selectedOption);
                    // You can perform further actions here with the selected value
                });
            </script>

            <div class="form-group">
                <label for="phone">Phone No:</label>
                <input type="text" id="phone" name="phone" value="{{ job_seeker.mobile_no }}" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ job_seeker.email_id }}" required>
            </div>
            <div class="form-group">
                <label for="photo">Photo:</label>
                <input type="file" id="photo" name="photo" accept="image/*" >
                <button type="button" class="custom-file-button" onclick="document.getElementById('resume').click()">Choose Resume</button>

            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <textarea id="address" name="address" rows="3" required>{{ job_seeker.address }}</textarea>
            </div>
            <div class="form-group">
                <label for="resume">Resume:</label>
                <input type="file" id="resume" name="resume" accept="image/*" style="display: none;">
                <button type="button" class="custom-file-button" onclick="document.getElementById('resume').click()">Choose Resume</button>
            </div>
            <button type="submit" id="submitButton">Submit</button>
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        $(document).ready(function() {
            {% for message in messages %}
            var messageType = "{{ message.tags }}"
            var messageText = "{{ message }}"

            toastr.options = {
                closeButton: true,
                progressBar: true,
                positionClass: 'toast-bottom-right',
                showMethod: 'slideDown',
                timeout: 5000
            };

            if (messageType === 'success') {
                toastr.success(messageText);
            } else if (messageType === 'error') {
                toastr.error(messageText);
            } else if (messageType === 'info') {
                toastr.info(messageText);
            } else {
                toastr.warning(messageText);
            }
            {% endfor %}
        });
    </script>
    <script>
        document.getElementById("submitButton").addEventListener("click", function() {
            if (confirm("Are you sure you want to submit the form?")) {
                document.getElementById("updateForm").submit();
            }
        });
    </script>
</body>
</html>
